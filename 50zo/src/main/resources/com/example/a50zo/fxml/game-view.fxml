<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane styleClass="game-container" stylesheets="@../css/game-style.css"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.a50zo.controller.GameController">

    <!-- Top Bar -->
    <top>
        <HBox alignment="CENTER" spacing="20.0" styleClass="top-bar">
            <padding>
                <Insets bottom="10.0" left="15.0" right="15.0" top="10.0"/>
            </padding>

            <Label styleClass="game-title-small" text="ðŸŽ´ CINCUENTAZO">
                <font>
                    <Font name="System Bold" size="20.0"/>
                </font>
            </Label>

            <Region HBox.hgrow="ALWAYS"/>

            <VBox alignment="CENTER" spacing="3.0" styleClass="info-box">
                <Label text="Current Player:" styleClass="info-label">
                    <font>
                        <Font size="11.0"/>
                    </font>
                </Label>
                <Label fx:id="lblCurrentPlayer" styleClass="info-value" text="Player Name">
                    <font>
                        <Font name="System Bold" size="14.0"/>
                    </font>
                </Label>
            </VBox>

            <VBox alignment="CENTER" spacing="3.0" styleClass="info-box">
                <Label text="Deck Cards:" styleClass="info-label">
                    <font>
                        <Font size="11.0"/>
                    </font>
                </Label>
                <Label fx:id="lblDeckSize" styleClass="info-value" text="52">
                    <font>
                        <Font name="System Bold" size="14.0"/>
                    </font>
                </Label>
            </VBox>

            <HBox spacing="8.0" alignment="CENTER">
                <Button fx:id="btnMainMenu" disable="true" onAction="#handleMainMenu"
                        styleClass="main-menu-button" text="Main Menu">
                    <font>
                        <Font size="12.0"/>
                    </font>
                </Button>

                <Button fx:id="btnNewGame" disable="true" onAction="#handleNewGame"
                        styleClass="new-game-button" text="New Game">
                    <font>
                        <Font size="12.0"/>
                    </font>
                </Button>
            </HBox>
        </HBox>
    </top>

    <!-- Center - ScrollPane con todo el contenido del juego -->
    <center>
        <ScrollPane fitToWidth="true" fitToHeight="true"
                    styleClass="game-scroll-pane" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED">
            <VBox alignment="CENTER" spacing="20.0" styleClass="game-area">
                <padding>
                    <Insets bottom="15.0" left="15.0" right="15.0" top="15.0"/>
                </padding>

                <!-- Machine Players Row -->
                <HBox alignment="CENTER" spacing="30.0" styleClass="machine-players-row">
                    <!-- Machine 1 -->
                    <VBox fx:id="vboxMachine1" alignment="CENTER" spacing="8.0"
                          styleClass="machine-player-box">
                        <Label fx:id="lblMachine1" styleClass="player-name" text="Machine 1">
                            <font>
                                <Font name="System Bold" size="13.0"/>
                            </font>
                        </Label>
                        <HBox alignment="CENTER" spacing="4.0"/>
                        <Label fx:id="lblMachine1Status" styleClass="player-status" text="Cards: 4">
                            <font>
                                <Font size="11.0"/>
                            </font>
                        </Label>
                    </VBox>

                    <!-- Machine 2 -->
                    <VBox fx:id="vboxMachine2" alignment="CENTER" spacing="8.0"
                          styleClass="machine-player-box">
                        <Label fx:id="lblMachine2" styleClass="player-name" text="Machine 2">
                            <font>
                                <Font name="System Bold" size="13.0"/>
                            </font>
                        </Label>
                        <HBox alignment="CENTER" spacing="4.0"/>
                        <Label fx:id="lblMachine2Status" styleClass="player-status" text="Cards: 4">
                            <font>
                                <Font size="11.0"/>
                            </font>
                        </Label>
                    </VBox>

                    <!-- Machine 3 -->
                    <VBox fx:id="vboxMachine3" alignment="CENTER" spacing="8.0"
                          styleClass="machine-player-box">
                        <Label fx:id="lblMachine3" styleClass="player-name" text="Machine 3">
                            <font>
                                <Font name="System Bold" size="13.0"/>
                            </font>
                        </Label>
                        <HBox alignment="CENTER" spacing="4.0"/>
                        <Label fx:id="lblMachine3Status" styleClass="player-status" text="Cards: 4">
                            <font>
                                <Font size="11.0"/>
                            </font>
                        </Label>
                    </VBox>
                </HBox>

                <!-- Table Card and Sum -->
                <VBox alignment="CENTER" spacing="12.0" styleClass="table-center">
                    <Label text="TABLE" styleClass="table-label">
                        <font>
                            <Font name="System Bold" size="16.0"/>
                        </font>
                    </Label>

                    <StackPane styleClass="card-container">
                        <ImageView fx:id="imgTableCard" fitHeight="160.0"
                                   fitWidth="115.0" preserveRatio="true"/>
                    </StackPane>

                    <VBox alignment="CENTER" spacing="4.0" styleClass="sum-display">
                        <Label text="Current Sum:" styleClass="sum-label">
                            <font>
                                <Font size="13.0"/>
                            </font>
                        </Label>
                        <Label fx:id="lblTableSum" styleClass="sum-value" text="0">
                            <font>
                                <Font name="System Bold" size="32.0"/>
                            </font>
                        </Label>
                    </VBox>
                </VBox>

                <!-- Player Hand -->
                <VBox alignment="CENTER" spacing="12.0" styleClass="player-area-container">
                    <Label text="YOUR HAND" styleClass="player-hand-title">
                        <font>
                            <Font name="System Bold" size="16.0"/>
                        </font>
                    </Label>

                    <HBox fx:id="hboxPlayerHand" alignment="CENTER" spacing="8.0"
                          styleClass="player-hand-box">
                        <padding>
                            <Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/>
                        </padding>
                    </HBox>

                    <Label styleClass="hint-text" text="Click on a card to play it">
                        <font>
                            <Font size="11.0"/>
                        </font>
                    </Label>
                </VBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>