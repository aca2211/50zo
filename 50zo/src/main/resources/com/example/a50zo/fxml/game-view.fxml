<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.*?>

<BorderPane styleClass="game-container" stylesheets="@../css/game-style.css"
            xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.a50zo.controller.GameController">

    <!-- Top Bar -->
    <top>
        <HBox alignment="CENTER" spacing="30.0" styleClass="top-bar">
            <padding>
                <Insets bottom="15.0" left="20.0" right="20.0" top="15.0"/>
            </padding>

            <Label styleClass="game-title-small" text="ðŸŽ´ CINCUENTAZO">
                <font>
                    <Font name="System Bold" size="24.0"/>
                </font>
            </Label>

            <Region HBox.hgrow="ALWAYS"/>

            <VBox alignment="CENTER" spacing="5.0" styleClass="info-box">
                <Label text="Current Player:" styleClass="info-label">
                    <font>
                        <Font size="12.0"/>
                    </font>
                </Label>
                <Label fx:id="lblCurrentPlayer" styleClass="info-value" text="Player Name">
                    <font>
                        <Font name="System Bold" size="16.0"/>
                    </font>
                </Label>
            </VBox>

            <VBox alignment="CENTER" spacing="5.0" styleClass="info-box">
                <Label text="Deck Cards:" styleClass="info-label">
                    <font>
                        <Font size="12.0"/>
                    </font>
                </Label>
                <Label fx:id="lblDeckSize" styleClass="info-value" text="52">
                    <font>
                        <Font name="System Bold" size="16.0"/>
                    </font>
                </Label>
            </VBox>

            <!-- Botones de control -->
            <HBox spacing="10.0" alignment="CENTER">
                <Button fx:id="btnMainMenu" disable="true" onAction="#handleMainMenu"
                        styleClass="main-menu-button" text="Main Menu">
                    <font>
                        <Font size="14.0"/>
                    </font>
                </Button>

                <Button fx:id="btnNewGame" disable="true" onAction="#handleNewGame"
                        styleClass="new-game-button" text="New Game">
                    <font>
                        <Font size="14.0"/>
                    </font>
                </Button>
            </HBox>
        </HBox>
    </top>

    <!-- Center - Game Table -->
    <center>
        <VBox alignment="CENTER" spacing="30.0" styleClass="game-area">
            <padding>
                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/>
            </padding>

            <!-- Machine Players Row -->
            <HBox alignment="CENTER" spacing="40.0" styleClass="machine-players-row">
                <!-- Machine 1 -->
                <VBox fx:id="vboxMachine1" alignment="CENTER" spacing="10.0"
                      styleClass="machine-player-box">
                    <Label fx:id="lblMachine1" styleClass="player-name" text="Machine 1">
                        <font>
                            <Font name="System Bold" size="14.0"/>
                        </font>
                    </Label>
                    <HBox alignment="CENTER" spacing="5.0"/>
                    <Label fx:id="lblMachine1Status" styleClass="player-status" text="Cards: 4">
                        <font>
                            <Font size="12.0"/>
                        </font>
                    </Label>
                </VBox>

                <!-- Machine 2 -->
                <VBox fx:id="vboxMachine2" alignment="CENTER" spacing="10.0"
                      styleClass="machine-player-box">
                    <Label fx:id="lblMachine2" styleClass="player-name" text="Machine 2">
                        <font>
                            <Font name="System Bold" size="14.0"/>
                        </font>
                    </Label>
                    <HBox alignment="CENTER" spacing="5.0"/>
                    <Label fx:id="lblMachine2Status" styleClass="player-status" text="Cards: 4">
                        <font>
                            <Font size="12.0"/>
                        </font>
                    </Label>
                </VBox>

                <!-- Machine 3 -->
                <VBox fx:id="vboxMachine3" alignment="CENTER" spacing="10.0"
                      styleClass="machine-player-box">
                    <Label fx:id="lblMachine3" styleClass="player-name" text="Machine 3">
                        <font>
                            <Font name="System Bold" size="14.0"/>
                        </font>
                    </Label>
                    <HBox alignment="CENTER" spacing="5.0"/>
                    <Label fx:id="lblMachine3Status" styleClass="player-status" text="Cards: 4">
                        <font>
                            <Font size="12.0"/>
                        </font>
                    </Label>
                </VBox>
            </HBox>

            <!-- Table Card and Sum -->
            <VBox alignment="CENTER" spacing="15.0" styleClass="table-center">
                <Label text="TABLE" styleClass="table-label">
                    <font>
                        <Font name="System Bold" size="18.0"/>
                    </font>
                </Label>

                <StackPane styleClass="card-container">
                    <ImageView fx:id="imgTableCard" fitHeight="200.0"
                               fitWidth="143.0" preserveRatio="true"/>
                </StackPane>

                <VBox alignment="CENTER" spacing="5.0" styleClass="sum-display">
                    <Label text="Current Sum:" styleClass="sum-label">
                        <font>
                            <Font size="14.0"/>
                        </font>
                    </Label>
                    <Label fx:id="lblTableSum" styleClass="sum-value" text="0">
                        <font>
                            <Font name="System Bold" size="36.0"/>
                        </font>
                    </Label>
                </VBox>
            </VBox>
        </VBox>
    </center>

    <!-- Bottom - Player Hand -->
    <bottom>
        <VBox alignment="CENTER" spacing="15.0" styleClass="player-area">
            <padding>
                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0"/>
            </padding>

            <Label text="YOUR HAND" styleClass="player-hand-title">
                <font>
                    <Font name="System Bold" size="18.0"/>
                </font>
            </Label>

            <HBox fx:id="hboxPlayerHand" alignment="CENTER" spacing="10.0"
                  styleClass="player-hand-box">
                <padding>
                    <Insets bottom="10.0" left="10.0" right="10.0" top="10.0"/>
                </padding>
            </HBox>

            <Label styleClass="hint-text" text="Click on a card to play it">
                <font>
                    <Font size="12.0"/>
                </font>
            </Label>
        </VBox>
    </bottom>
</BorderPane>
